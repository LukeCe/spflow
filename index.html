<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spatial Econometric Interaction Models â€¢ spflow</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Spatial Econometric Interaction Models">
<meta property="og:description" content="
    Efficient estimation of spatial econometric models of origin-destination flows, which may exhibit spatial autocorrelation in the dependent variable, the explanatory variables or both.
    The model is the one proposed by LeSage and Pace (2008) &lt;doi:10.1111/j.1467-9787.2008.00573.x&gt;, who develop a matrix formulation that exploits the relational structure of flow data.
    The estimation procedures follow most closely those outlined by Dargel (2021) &lt;doi:10.1007/s43071-021-00016-1&gt;.
    Extensions to cover the case of an incomplete OD matrix and to the case where the list of origins may be different from the list of destinations are based on the developments of Dargel and Thomas-Agnan (2023, a working paper is available at &lt;https://www.tse-fr.eu/sites/default/files/TSE/documents/doc/wp/2023/wp_tse_1409.pdf&gt;).">
<meta property="og:image" content="/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">spflow</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0.9010</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/paris_commute_flows.html">Home-to-work commuting flows within the municipalities around Paris</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/LukeCe/spflow/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="spflow-">spflow <a href="https://lukece.github.io/spflow/" class="external-link"><img src="reference/figures/logo.svg" align="right" height="138" alt="spflow website"></a>
<a class="anchor" aria-label="anchor" href="#spflow-"></a>
</h1></div>
<!-- badges: start -->

<p>The <a href="https://lukece.github.io/spflow/" class="external-link"><strong>spflow</strong></a> package allows to estimate spatial econometric interaction models. It is designed to exploit the relational structure of flow data, reducing the computational burden and memory requirements.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the released version of spflow from <a href="https://CRAN.R-project.org/package=spflow" class="external-link">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"spflow"</span><span class="op">)</span></span></code></pre></div>
<p>And the development version from <a href="https://github.com/LukeCe/spflow/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"LukeCe/spflow"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>The package provides a new <code>spflow_network_multi-class</code> that combines information on the origins, the destinations, and the origin-destination pairs. Once this object is created, we can estimate an interaction model with the <code><a href="reference/spflow.html">spflow()</a></code> function. By default the model includes three autoregression parameters: rho_o, rho_d, rho_w. These parameters are related to origin-, destination-, and origin-to-destination-dependence.</p>
<p>Through the formula interface we specify which variables are used as origin <code>O_()</code>, destination <code>D_()</code>, intra-regional <code>I_()</code> and OD-pair <code>P_()</code> characteristics.</p>
<p>For more detailed examples have a look at the <a href="https://lukece.github.io/spflow/articles/paris_commute_flows.html" class="external-link">package vignette</a>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/LukeCe/spflow" class="external-link">"spflow"</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"multi_net_usa_ge"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/spflow.html">spflow</a></span><span class="op">(</span><span class="va">y9</span> <span class="op">~</span> <span class="fu">O_</span><span class="op">(</span><span class="va">X</span><span class="op">)</span> <span class="op">+</span> <span class="fu">D_</span><span class="op">(</span><span class="va">X</span><span class="op">)</span> <span class="op">+</span> <span class="fu">I_</span><span class="op">(</span><span class="va">X</span><span class="op">)</span> <span class="op">+</span> <span class="fu">P_</span><span class="op">(</span><span class="va">DISTANCE</span><span class="op">)</span>, <span class="va">multi_net_usa_ge</span><span class="op">)</span></span>
<span><span class="co">#&gt; --------------------------------------------------</span></span>
<span><span class="co">#&gt; Spatial interaction model estimated by: MLE  </span></span>
<span><span class="co">#&gt; Spatial correlation structure: SDM (model_9)</span></span>
<span><span class="co">#&gt; Dependent variable: y9</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------------------------------</span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                 est     sd   t.stat  p.val</span></span>
<span><span class="co">#&gt; rho_d         0.497  0.030   16.499      0</span></span>
<span><span class="co">#&gt; rho_o         0.333  0.037    9.001      0</span></span>
<span><span class="co">#&gt; rho_w        -0.227  0.044   -5.117      0</span></span>
<span><span class="co">#&gt; (Intercept)  10.198  2.161    4.719      0</span></span>
<span><span class="co">#&gt; (Intra)       9.871  1.531    6.445      0</span></span>
<span><span class="co">#&gt; D_X           0.983  0.069   14.321      0</span></span>
<span><span class="co">#&gt; D_X.lag1      0.509  0.115    4.437      0</span></span>
<span><span class="co">#&gt; O_X          -0.759  0.038  -19.917      0</span></span>
<span><span class="co">#&gt; O_X.lag1     -0.367  0.093   -3.965      0</span></span>
<span><span class="co">#&gt; I_X           2.035  0.083   24.650      0</span></span>
<span><span class="co">#&gt; P_DISTANCE   -2.622  0.384   -6.829      0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------------------------------</span></span>
<span><span class="co">#&gt; R2_corr: 0.9921423  </span></span>
<span><span class="co">#&gt; Observations: 256  </span></span>
<span><span class="co">#&gt; Model coherence: Validated</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL 3</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=spflow" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/LukeCe/spflow/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/LukeCe/spflow/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing spflow</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Lukas Dargel <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-4839-506X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Thibault Laurent <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-7487-7671" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=spflow" class="external-link"><img src="https://www.r-pkg.org/badges/version/spflow" alt="CRAN status"></a></li>
<li><a href="https://github.com/LukeCe/spflow/actions" class="external-link"><img src="https://github.com/LukeCe/spflow/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://github.com/LukeCe/spflow/actions" class="external-link"><img src="https://codecov.io/gh/LukeCe/spflow/branch/master/graph/badge.svg" alt="test-coverage"></a></li>
<li><a href="https://CRAN.R-project.org/package=spflow" class="external-link"><img src="https://tinyverse.netlify.com/badge/spflow" alt="status"></a></li>
<li><a href="https://www.r-pkg.org/pkg/spflow" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/spflow?color=brightgreen" alt="Downloads"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Lukas Dargel, Thibault Laurent.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
